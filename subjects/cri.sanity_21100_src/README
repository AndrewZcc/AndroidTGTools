Sanity
Copyright (C) Cristiano Tagliamonte

Android application to assist during phone calls.

    This application is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
    GNU General Public License version 3 for more details,
    you can find a copy on http://www.gnu.org/licenses/.


-------------------
  Change log
-------------------

* version 2.11  (08/05/2011)
- New: option to vibrate when an outgoing call begins.
- New: option to choose the vibration mode.
- New: option to show new incoming SMS for fast reading and replying.
- New: option to choose volume to announce SMS.
- New: option to use an alternative way to answer automatically.
- New: option to speed up application startup.
- New: filter phone numbers by prefix.
- Fix: minor bugs.

* version 2.10  (26/04/2011)
- Fix: bug when announcing the sender of SMS.
- Fix: bug in automatic handsfree.
- Fix: minor bugs.

* version 2.09  (22/04/2011)
- New: Anonymous calls section.
- New: options to announce the sender of received SMS.
- New: option to notify when automatic restoration from silent/airplane mode is activated.
- New: option to change the audio stream to announce.
- Fix: minor bugs.
- Change: minor improvements.

* version 2.08  (08/04/2011)
- Fix: force close on Urgent call section.

* version 2.07  (08/04/2011)
- New: Urgent calls section.
- New: options to block SMS (Call block section).
- New: option to pick up call before block (to avoid voicemail).
- New: option to automatically disable the airplane mode after a given timeout (General section).
- New: shortcuts to enable silent or airplane mode with timeout.
- New: shortcuts to any option.
- New: go to the official forum (About and contacts section).
- Fix: minor bugs.
- Change: user interface minor enhancements.

* version 2.06  (25/03/2011)
- New: options to answer automatically on incoming calls.
- New: option to automatically disable the silent mode after a given timeout (General section).
- New: call filter by date and time.
- Fix: call blocker bugs.
- Fix: minor bugs.

* version 2.05  (22/03/2011)
- Fix: urgent crash on some phones.

* version 2.04  (21/03/2011)
- New: call blocker method: silent answer.
- New: history of all calls blocked.
- New: option to remove all call filters.
- Fix: bug to handle multiple/concurrent calls.
- Fix: bug in call filter when searching a contact.
- Fix: bug turns microphone off after recording.
- Fix: bug won't stop announcing after the answer.
- Fix: minor bugs.

* version 2.03  (11/03/2011)
- New: option to delay signal restoring when the call is blocked through interrupting signal.
- New: option to notify blocked calls.
- New: function to add call filter numbers from the call log.
- New: function for fast searching a contact in the call filter.
- New: option for setting automatic handsfree volume.
- Fix: bug in groups list of call filter.
- Fix: bug in automatic recording when automatic handsfree is disabled.
- Fix: minor bugs.
- Change: optimizations in call blocker and annouce caller.

* version 2.02  (08/03/2011)
- New: options to block incoming calls automatically.
- New: option to skip announcing when the phone is in silent mode.
- New: option to show the call screen just after you manually start or stop recording.
- Fix: bug disables screen lock on some phones.
- Fix: bug when disabling the mobile data.
- Fix: bug when recognizing the donate version.

* version 2.01  (07/03/2011)
- Fix: the caller was always announced.

* version 2.00  (07/03/2011)
- New: options to announce the caller's name when phone is ringing (text to speech).
- New: start recording automatically filtering out the phone number.
- New: option for turning Bluetooth off every time call ends.
- Fix: bug when enabling and disabling devices.
- Fix: bug when upgrading from older version.
- Change: minor improvements.
- Change: "Skip if headsets" option removed.

* version 1.99  (26/02/2011)
- New: option for turning on bluetooth when call starts (useful for automatic bluetooth headsets connection).
- Fix: various bugs.

* version 1.98  (24/02/2011)
- New: you can create Sanity shortcuts in the Home screen.
- New: profiles system (in the "General" section) for fast changing preferences.
- Fix: various bugs.
- Change: minor user interface improvements.

* version 1.97  (15/02/2011)
- New: option to restrict automatic recording only on incoming or outgoing calls.
- New: options to limit automatic handsfree.
- Fix: bug in recorder options (introduced in version 1.96).
- Change: minor improvements.

* version 1.96  (14/02/2011)
- New: handsfree option "Enable at call start" can be filtered by incoming and outgoing calls.
- New: backup and restore preferences to memory card (in the "General" section).
- Change: minor user interface improvements.

* version 1.95  (10/02/2011)
- New: options for automatic audio recording when headsets are plugged/unplugged.
- New: option to delay automatic handsfree enabling when call begins.
- New: option to silence end call sound by disabling handsfree.
- Fix: now automatic volume can be set to the real minimum level.
- Fix: other bugs.

* version 1.94  (09/02/2011)
- Fix: occasional crash in recording system.

* version 1.93  (07/02/2011)
- New: option to limit times for automatic recording during a single call.
- Fix: minor bugs in recording system.
- Change: general optimizations.

* version 1.92  (05/02/2011)
- New: audio records show if were incoming or outgoing calls.
- Fix: bug when starting call recording from status bar.

* version 1.91  (04/02/2011)
- New: contact names are showed in file browser (when available).
- Fix: minor user interface bug.
- Change: now Sanity doesn't ask you to donate everytime you open application.

* version 1.9  (03/02/2011)
- New: options for automatic call recording.
- New: option to vibrate when phone call ends (in the "Notification" section).
- New: spanish translation by LuiSKdT&AnA from Mallorca-Spain.
- Fix: incoming phone number is properly saved when recording.
- Change: improved audio file browser.
- Change: improved user interface.

* version 1.8  (31/01/2011)
- New: simple file browser of recorded audio files.
- Fix: now process properly exits when call ends without answer.
- Fix: recored audio files were silent when "Conversation only" option was activated.
- Fix: minor user interface bug.

* version 1.7  (29/01/2011)
- Fix: call recording isn't stopped anymore just after starting it.

* version 1.6  (29/01/2011)
- New: option to allow/disable multimedia scanning of recorded audio files.
- Fix: application is shown in "Device Administrator" panel of global Android settings.
- Fix: random crash when resuming application.
- Change: automatic disabling actions are not applied anymore when phone is ringing during an incoming call.

* version 1.5  (29/01/2011)
- New: voice call recorder (in the free edition it's limited to maximum 2 minutes for each audio file; without limits in the donate edition).
- Fix: now preferences are correctly saved and can be modified.
- Fix: screen is no more turned automatically off while ringing.
- Fix: odd behavior on multiple calls at the same time.
- Fix: minor bugs.
- Change: minor user interface improvements.

* version 1.4  (25/01/2011)
- Fix: crash on Android 2.1 (Eclair), but now it works.
- Fix: minor bugs.

* version 1.3  (24/01/2011)
- New: option to use device administration for turning off the screen (you have to enable "Administrator" option); Android 2.2+ required.
- Fix: crash during first start when not upgrading.
- Fix: minor bugs.

* version 1.2  (24/01/2011)
- New: option to skip automatic Wifi and Mobile Data disabling when Hotspot Wifi is enabled.
- New: option to skip automatic Mobile Data disabling when Tethering USB is enabled.

* version 1.1  (20/01/2011)
- New: option to force turn on screen when phone is far from ear.

* version 1.0  (20/01/2011)
- New: volume option to mute all audio streams except the conversation one (during a call).
- New: notification option to show automatic volume changes.
- Fix: delay for turning on handsfree works now.
- Fix: minor bug for handling automatic volume.

* version 0.9  (19/01/2011)
- New: option for supporting phones have reversed proximity sensor.
- New: option for supporting unrecognized bluetooth audio devices.
- Fix: sometimes devices were not automatically restored after ringing without answer.
- Fix: others minor bugs.
- Change: minor user interface improvements.

* version 0.8
- Fix: user interface bugs.

* version 0.7
- New: option to avoid automatic disabling of Mobile Data when GPS is enabled.

* version 0.6
- New: automatic enable/disable GPS during phone calls.
- Change: featured user interface.

* version 0.5
- New: option to avoid automatic bluetooth disabling when there are bluetooth devices connected.
- New: option to delay automatic handsfree enabler.
- Fix: more bluetooth audio devices are recognized during phone call.
- Fix: minor bug caused occasional crashes at call end.
- New: tools for contacting the developer.

* version 0.4
- Bug fix: now bluetooth headsets are correctly handled.
- Change: notify activity only when call starts.

* version 0.3
- New: force turn off backlight option.
- Known bugs: actually bluetooth headsets are not correctly handled; this problem will be resolved in the next version.

* version 0.2  (04/01/2011)
- First public release.


-------------------
  TODO
-------------------

* BUGS:
  - wifi doesn't always restore
  - sometimes bt headsets are disconnected when Sanity answers the call
  - sometimes ANR on call end (after recording starts and/or on WifiTracker.shutdown)

* call filter: patterns (prefix, suffix, substring, wildcards)

* option to remove android notifications of call log for blocked calls

* change the ringtone at different times/days;
* choose preferred ringtone volume
* rising ringtone volume

* new option in profiles: choose which preferences to store in the profile!

* sound/vibrate when losing/restoring gsm signal
* new bluetooth handling (manually choose paired devices to consider audio ones)

* file sizes in record archive (and total file nums + size at the bottom of the page) and if less than 4k say "corrupted"
* customizable record filenames

* integrated audio player?
* voicemail

* send sms after call block?
* flip silence?
* call log sync to gmail???

* customizable recording file names
